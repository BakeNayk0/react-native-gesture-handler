"use strict";(self.webpackChunkreact_native_gesture_handler_docs=self.webpackChunkreact_native_gesture_handler_docs||[]).push([[782],{5680:(e,n,t)=>{t.d(n,{xA:()=>d,yg:()=>y});var a=t(6540);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),p=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},c=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(t),c=r,y=u["".concat(s,".").concat(c)]||u[c]||g[c]||i;return t?a.createElement(y,o(o({ref:n},d),{},{components:t})):a.createElement(y,o({ref:n},d))}));function y(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=c;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[u]="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=t[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}c.displayName="MDXCreateElement"},8471:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>g,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=t(9668),r=(t(6540),t(5680));const i={id:"installation",title:"Installation",sidebar_position:2},o=void 0,l={unversionedId:"fundamentals/installation",id:"fundamentals/installation",title:"Installation",description:"Requirements",source:"@site/docs/fundamentals/installation.md",sourceDirName:"fundamentals",slug:"/fundamentals/installation",permalink:"/react-native-gesture-handler/docs/fundamentals/installation",draft:!1,editUrl:"https://github.com/software-mansion/react-native-gesture-handler/edit/main/docs/docs/fundamentals/installation.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"installation",title:"Installation",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/react-native-gesture-handler/docs/"},next:{title:"Gesture composition & interactions",permalink:"/react-native-gesture-handler/docs/fundamentals/gesture-composition"}},s={},p=[{value:"Requirements",id:"requirements",level:2},{value:"Expo",id:"expo",level:2},{value:"Bare React Native",id:"bare-react-native",level:3},{value:"JS",id:"js",level:2},{value:"Linking",id:"linking",level:3},{value:"Fabric",id:"fabric",level:2},{value:"on iOS:",id:"on-ios",level:4},{value:"on Android:",id:"on-android",level:4},{value:"With wix/react-native-navigation",id:"with-wixreact-native-navigation",level:3},{value:"Android",id:"android",level:2},{value:"Usage with modals on Android",id:"usage-with-modals-on-android",level:3},{value:"Kotlin",id:"kotlin",level:3},{value:"iOS",id:"ios",level:2},{value:"Web",id:"web",level:2}],d={toc:p},u="wrapper";function g(e){let{components:n,...t}=e;return(0,r.yg)(u,(0,a.A)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h2",{id:"requirements"},"Requirements"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"version"),(0,r.yg)("th",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"th"},"react-native")," version"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"2.18.0+"),(0,r.yg)("td",{parentName:"tr",align:null},"0.73.0+")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"2.16.0+"),(0,r.yg)("td",{parentName:"tr",align:null},"0.68.0+")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"2.14.0+"),(0,r.yg)("td",{parentName:"tr",align:null},"0.67.0+")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"2.10.0+"),(0,r.yg)("td",{parentName:"tr",align:null},"0.64.0+")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"2.0.0+"),(0,r.yg)("td",{parentName:"tr",align:null},"0.63.0+")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"1.4.0+"),(0,r.yg)("td",{parentName:"tr",align:null},"0.60.0+")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"1.1.0+"),(0,r.yg)("td",{parentName:"tr",align:null},"0.57.2+")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"<","1.1.0"),(0,r.yg)("td",{parentName:"tr",align:null},"0.50.0+")))),(0,r.yg)("p",null,"It may be possible to use newer versions of react-native-gesture-handler on React Native with version <= 0.59 by reverse Jetifying.\nRead more on that here ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/mikehardy/jetifier#to-reverse-jetify--convert-node_modules-dependencies-to-support-libraries"},"https://github.com/mikehardy/jetifier#to-reverse-jetify--convert-node_modules-dependencies-to-support-libraries")),(0,r.yg)("p",null,"Note that if you wish to use ",(0,r.yg)("a",{parentName:"p",href:"https://reactjs.org/docs/refs-and-the-dom.html"},(0,r.yg)("inlineCode",{parentName:"a"},"React.createRef()"))," support for ",(0,r.yg)("a",{parentName:"p",href:"/docs/gesture-handlers/interactions/"},"interactions")," you need to use v16.3 of ",(0,r.yg)("a",{parentName:"p",href:"https://reactjs.org/"},"React")),(0,r.yg)("p",null,"In order to fully utilize the ",(0,r.yg)("a",{parentName:"p",href:"/docs/gestures/touch-events/"},"touch events")," you also need to use ",(0,r.yg)("inlineCode",{parentName:"p"},"react-native-reanimated")," 2.3.0-beta.4 or newer."),(0,r.yg)("h2",{id:"expo"},(0,r.yg)("a",{parentName:"h2",href:"https://expo.dev"},"Expo")),(0,r.yg)("p",null,"To use the version of react-native-gesture-handler that is compatible with your Expo project, run ",(0,r.yg)("inlineCode",{parentName:"p"},"npx expo install react-native-gesture-handler"),"."),(0,r.yg)("p",null,"The Expo SDK incorporates the latest version of react-native-gesture-handler available at the time of each SDK release, so Expo apps might not always support all our latest features as soon as they are available."),(0,r.yg)("h3",{id:"bare-react-native"},"Bare ",(0,r.yg)("a",{parentName:"h3",href:"https://reactnative.dev/"},"React Native")),(0,r.yg)("p",null,"Since the library uses native support for handling gestures, it requires an extended installation to the norm. If you are starting a new project, initialize it with ",(0,r.yg)("a",{parentName:"p",href:"https://docs.expo.dev/get-started/create-a-project/"},(0,r.yg)("inlineCode",{parentName:"a"},"npx create-expo-app@latest"))," since it comes pre-installed with react-native-gesture-handler."),(0,r.yg)("h2",{id:"js"},"JS"),(0,r.yg)("p",null,"First, install the library using ",(0,r.yg)("inlineCode",{parentName:"p"},"yarn"),":"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"yarn add react-native-gesture-handler\n")),(0,r.yg)("p",null,"or with ",(0,r.yg)("inlineCode",{parentName:"p"},"npm")," if you prefer:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"npm install --save react-native-gesture-handler\n")),(0,r.yg)("p",null,"After installation, wrap your entry point with ",(0,r.yg)("inlineCode",{parentName:"p"},"<GestureHandlerRootView>")," or\n",(0,r.yg)("inlineCode",{parentName:"p"},"gestureHandlerRootHOC"),"."),(0,r.yg)("p",null,"For example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"import { GestureHandlerRootView } from 'react-native-gesture-handler';\n\nexport default function App() {\n  return (\n    <GestureHandlerRootView style={{ flex: 1 }}>\n      {/* content */}\n    </GestureHandlerRootView>\n  );\n}\n")),(0,r.yg)("admonition",{type:"info"},(0,r.yg)("p",{parentName:"admonition"},"If you use props such as ",(0,r.yg)("inlineCode",{parentName:"p"},"shouldCancelWhenOutside"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"simultaneousHandlers"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"waitFor")," etc. with gesture handlers, the handlers need to be mounted under a single ",(0,r.yg)("inlineCode",{parentName:"p"},"GestureHandlerRootView"),". So it's important to keep the ",(0,r.yg)("inlineCode",{parentName:"p"},"GestureHandlerRootView")," as close to the actual root view as possible."),(0,r.yg)("p",{parentName:"admonition"},"Note that ",(0,r.yg)("inlineCode",{parentName:"p"},"GestureHandlerRootView")," acts like a normal ",(0,r.yg)("inlineCode",{parentName:"p"},"View"),". Also, gestures will only be recognized within the ",(0,r.yg)("inlineCode",{parentName:"p"},"GestureHandlerRootView")," area. So if you want it to fill the screen, you will need to pass ",(0,r.yg)("inlineCode",{parentName:"p"},"{ flex: 1 }")," like you'll need to do with a normal ",(0,r.yg)("inlineCode",{parentName:"p"},"View"),". By default, it'll take the size of the content nested inside.")),(0,r.yg)("admonition",{type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"If you're using gesture handler in your component library, you may want to wrap your library's code in the GestureHandlerRootView component. This will avoid extra configuration for the user.")),(0,r.yg)("h3",{id:"linking"},"Linking"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"Important"),": You only need to do this step if you're using React Native 0.59 or lower. Since v0.60, linking happens automatically.")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"react-native link react-native-gesture-handler\n")),(0,r.yg)("h2",{id:"fabric"},"Fabric"),(0,r.yg)("p",null,"Starting with version 2.3.0, Gesture Handler now supports ",(0,r.yg)("a",{parentName:"p",href:"https://reactnative.dev/docs/fabric-renderer"},"Fabric"),"!. To use Gesture Handler in your Fabric application you have to:"),(0,r.yg)("h4",{id:"on-ios"},"on iOS:"),(0,r.yg)("p",null,"Install pods using ",(0,r.yg)("inlineCode",{parentName:"p"},"RCT_NEW_ARCH_ENABLED=1 pod install")," \u2013 this is the same command you run to prepare a Fabric build but you also need to run it after a new native library gets added."),(0,r.yg)("h4",{id:"on-android"},"on Android:"),(0,r.yg)("p",null,"There are no additional steps required so long as your app is configured to build with Fabric \u2013 this is typically configured by setting ",(0,r.yg)("inlineCode",{parentName:"p"},"newArchEnabled=true")," in ",(0,r.yg)("inlineCode",{parentName:"p"},"gradle.properties")," file in your project."),(0,r.yg)("h3",{id:"with-wixreact-native-navigation"},"With ",(0,r.yg)("a",{parentName:"h3",href:"https://github.com/wix/react-native-navigation"},"wix/react-native-navigation")),(0,r.yg)("p",null,"If you are using a native navigation library like ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/wix/react-native-navigation"},"wix/react-native-navigation")," you need to make sure that every screen is wrapped with ",(0,r.yg)("inlineCode",{parentName:"p"},"GestureHandlerRootView")," (you can do this using ",(0,r.yg)("inlineCode",{parentName:"p"},"gestureHandlerRootHOC")," function). This can be done for example at the stage when you register your screens. Here's an example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"import { gestureHandlerRootHOC } from 'react-native-gesture-handler';\nimport { Navigation } from 'react-native-navigation';\nimport FirstTabScreen from './FirstTabScreen';\nimport SecondTabScreen from './SecondTabScreen';\nimport PushedScreen from './PushedScreen';\n// register all screens of the app (including internal ones)\nexport function registerScreens() {\n  Navigation.registerComponent(\n    'example.FirstTabScreen',\n    () => gestureHandlerRootHOC(FirstTabScreen),\n    () => FirstTabScreen\n  );\n  Navigation.registerComponent(\n    'example.SecondTabScreen',\n    () => gestureHandlerRootHOC(SecondTabScreen),\n    () => SecondTabScreen\n  );\n  Navigation.registerComponent(\n    'example.PushedScreen',\n    () => gestureHandlerRootHOC(PushedScreen),\n    () => PushedScreen\n  );\n}\n")),(0,r.yg)("p",null,"You can check out ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/henrikra/nativeNavigationGestureHandler"},"this example project")," to see this kind of set up in action."),(0,r.yg)("p",null,"Remember that you need to wrap each screen that you use in your app with ",(0,r.yg)("inlineCode",{parentName:"p"},"GestureHandlerRootView")," (you can do this using ",(0,r.yg)("inlineCode",{parentName:"p"},"gestureHandlerRootHOC")," function) as with native navigation libraries each screen maps to a separate root view. It will not be enough to wrap the main screen only."),(0,r.yg)("h2",{id:"android"},"Android"),(0,r.yg)("h3",{id:"usage-with-modals-on-android"},"Usage with modals on Android"),(0,r.yg)("p",null,"On Android RNGH does not work by default because modals are not located under React Native Root view in native hierarchy.\nTo fix that, components need to be wrapped with ",(0,r.yg)("inlineCode",{parentName:"p"},"gestureHandlerRootHOC")," (it's no-op on iOS and web)."),(0,r.yg)("p",null,"For example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"import { gestureHandlerRootHOC } from 'react-native-gesture-handler';\n\nconst ExampleWithHoc = gestureHandlerRootHOC(() => (\n    <View>\n      <DraggableBox />\n    </View>\n  );\n);\n\nexport default function Example() {\n  return (\n    <Modal>\n      <ExampleWithHoc />\n    </Modal>\n  );\n}\n")),(0,r.yg)("h3",{id:"kotlin"},"Kotlin"),(0,r.yg)("p",null,"Since version ",(0,r.yg)("inlineCode",{parentName:"p"},"2.0.0")," RNGH has been rewritten with Kotlin. The default version of the Kotlin plugin used in this library is ",(0,r.yg)("inlineCode",{parentName:"p"},"1.6.21"),"."),(0,r.yg)("p",null,"If you need to use a different Kotlin version, set the ",(0,r.yg)("inlineCode",{parentName:"p"},"kotlinVersion")," ext property in ",(0,r.yg)("inlineCode",{parentName:"p"},"android/build.gradle")," file and RNGH will use that version:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},'buildscript {\n    ext {\n        ...\n        kotlinVersion = "1.6.21"\n    }\n}\n')),(0,r.yg)("p",null,"The minimal version of the Kotlin plugin supported by RNGH is ",(0,r.yg)("inlineCode",{parentName:"p"},"1.4.10"),"."),(0,r.yg)("h2",{id:"ios"},"iOS"),(0,r.yg)("p",null,"There is no additional configuration required on iOS except what follows in the next steps."),(0,r.yg)("p",null,"If you're in a CocoaPods project (the default setup since React Native 0.60),\nmake sure to install pods before you run your app:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"cd ios && pod install\n")),(0,r.yg)("p",null,"For React Native 0.61 or greater, add the library as the first import in your index.js file:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"import 'react-native-gesture-handler';\n")),(0,r.yg)("h2",{id:"web"},"Web"),(0,r.yg)("p",null,"There is no additional configuration required for the web, however, since the Gesture Handler 2.10.0 the new web implementation is enabled by default. It is recommended to check if the gestures in your app are working as expected since their behavior should now resemble the native platforms. If you don't want to use the new implementation, you can still revert back to the legacy one by enabling it at the beginning of your ",(0,r.yg)("inlineCode",{parentName:"p"},"index.js")," file:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"import { enableLegacyWebImplementation } from 'react-native-gesture-handler';\n\nenableLegacyWebImplementation(true);\n")),(0,r.yg)("p",null,"Nonetheless, it's recommended to adapt to the new implementation, as the legacy one will be dropped at some point in the future."),(0,r.yg)("p",null,"If you want to start using the new implementation but don't want to upgrade Gesture Handler, you can enable it (starting with Gesture Handler 2.6.0) at the beginning of your ",(0,r.yg)("inlineCode",{parentName:"p"},"index.js")," file:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"import { enableExperimentalWebImplementation } from 'react-native-gesture-handler';\n\nenableExperimentalWebImplementation(true);\n")))}g.isMDXComponent=!0}}]);